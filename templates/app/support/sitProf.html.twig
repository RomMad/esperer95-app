{% extends "model/collapseCard.html.twig" %}

{% set id = "sit_prof" %}

{% block collapse_card_title %}Situation professionnelle{% endblock %}

{% block collapse_card_body %}

<div class="row">
    <div class="col-md-12 accordion" id="accordion-sit_prof">
        <div class="mb-4">
            {% for supportPerson in form.supportPerson|filter(supportPerson => supportPerson.vars.value.person.age >= 18) %}
            {% set person = supportPerson.vars.value.person %}
            <button type="button" id="heading-sit_prof-{{ loop.index0 }}"
                class="btn btn-outline-{{ theme_color }} {% if loop.first %}active{% endif %} js-person"
                data-toggle="collapse" data-target="#collapse-sit_prof-{{ loop.index0 }}" aria-expanded="false"
                aria-controls="collapse-sit_prof-{{ loop.index0 }}">
                {{ person.firstname}} {{ person.lastname}}
            </button>
            {% endfor %}
        </div>

        {% for supportPerson in form.supportPerson|filter(supportPerson => supportPerson.vars.value.person.age >= 18) %}
        <div id="collapse-sit_prof-{{ loop.index0 }}" class="collapse {% if loop.first %}show{% endif %} my-3"
            aria-labelledby="heading-sit_prof-{{ loop.index0 }}" data-parent="#accordion-sit_prof">
            <div class="form-group row">
                <div class="col-md-6">{{ form_row(supportPerson.sitProf.schoolLevel) }}</div>
            </div>
            <div class="row">
                <div class="col-md-6">{{ form_row(supportPerson.sitProf.profStatus) }}</div>
            </div>
            <div class="form-group row">
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.contractType) }}
                </div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.jobType) }}
                </div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.contractStartDate) }}</div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.contractEndDate) }}
                </div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.nbWorkingHours) }}
                </div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.workingHours) }}
                </div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.workPlace) }}</div>
                <div class="col-md-6 js-{{ loop.index0 }}_sitProf_profStatus d-block">
                    {{ form_row(supportPerson.sitProf.employerName) }}
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6">{{ form_row(supportPerson.sitProf.transportMeans) }}</div>
                <div class="col-md-6">{{ form_row(supportPerson.sitProf.rqth) }}</div>
            </div>
            <div class="form-group row">
                {# {{ form_label(supportPerson.sitProf.commentSitProf) }} #}
                <div class="col-md-12">{{ form_widget(supportPerson.sitProf.commentSitProf) }}</div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}